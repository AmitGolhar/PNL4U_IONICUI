<ion-header translucent>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/events" text="Back"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ event?.eventName || 'Event Details' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <!-- Loader -->
  <ion-spinner *ngIf="loading" name="crescent" class="spinner-center"></ion-spinner>

  <!-- Main Content -->
  <ng-container *ngIf="!loading && event">

    <!-- ğŸ–¼ Image Carousel -->
    <ion-slides pager="true" *ngIf="event.imagesBase64?.length" class="event-banner-slider">
      <ion-slide *ngFor="let img of event.imagesBase64">
        <img [src]="img" alt="event image" class="event-banner" />
      </ion-slide>
    </ion-slides>

    <!-- ğŸŸ Basic Info -->
    <h2 class="event-title">
      {{ event.eventName }}
      <ion-icon *ngIf="event.verified" name="checkmark-circle" color="success"></ion-icon>
    </h2>

    <p *ngIf="event.artistName" class="event-artist">ğŸ¤ {{ event.artistName }}</p>

    <p class="event-date">
      <ion-icon name="calendar-outline"></ion-icon>
      {{ formatDateTime(event.startDate) }} â†’ {{ formatDateTime(event.endDate) }}
    </p>

    <p *ngIf="event.venueName" class="event-venue">ğŸ“ {{ event.venueName }}</p>
    <p *ngIf="event.locationCity" class="event-city">ğŸ™ï¸ {{ event.locationCity }}</p>

    <hr />

    <!-- ğŸ’ƒ Details Section -->
    <div class="details-list">
      <p *ngIf="event.category"><strong>ğŸ­ Category:</strong> {{ event.category }}</p>
      <p *ngIf="event.subCategory"><strong>ğŸ« Sub-category:</strong> {{ event.subCategory }}</p>
      <p *ngIf="event.genre"><strong>ğŸ¶ Genre:</strong> {{ event.genre }}</p>
      <p *ngIf="event.crowdType"><strong>ğŸ‘¥ Crowd Type:</strong> {{ event.crowdType }}</p>
      <p *ngIf="event.entryPolicy"><strong>ğŸšª Entry Policy:</strong> {{ event.entryPolicy }}</p>
      <p *ngIf="event.dressCode"><strong>ğŸ‘” Dress Code:</strong> {{ event.dressCode }}</p>
      <p *ngIf="event.refundPolicy"><strong>ğŸ’¸ Refund Policy:</strong> {{ event.refundPolicy }}</p>
      <p *ngIf="event.eventType"><strong>ğŸŸ Event Type:</strong> {{ event.eventType }}</p>
      <p *ngIf="event.offers"><strong>ğŸ’¥ Offers:</strong> {{ event.offers }}</p>
    </div>

    <!-- ğŸ“ Description -->
    <p *ngIf="event.description" class="desc">"{{ event.description }}"</p>

    <!-- â­ Meta Badges -->
    <div class="event-meta">
      <ion-badge *ngIf="event.isFreeEntry" color="success">Free Entry</ion-badge>
      <ion-badge *ngIf="event.hasOffers" color="tertiary">Offers</ion-badge>
      <ion-badge *ngIf="event.isWeekend" color="warning">Weekend</ion-badge>
    </div>

    <!-- ğŸ—“ Additional Info -->
    <div class="event-extra" *ngIf="event.rating || event.trendingScore">
      <p *ngIf="event.rating">â­ Rating: {{ event.rating }}/5</p>
      <p *ngIf="event.trendingScore">ğŸ”¥ Trending Score: {{ event.trendingScore }}</p>
    </div>

    <!-- ğŸ« Actions -->
    <div class="event-actions">
      <ion-button expand="block" fill="outline" color="secondary" (click)="openBookingModal(e, 'GUESTLIST')">
        <ion-icon name="ticket-outline" slot="start"></ion-icon>
        Book Tickets
      </ion-button>
      <ion-button expand="block" fill="outline" color="tertiary" (click)="openBookingModal(e, 'TABLE')">
        <ion-icon name="calendar-outline" slot="start"></ion-icon>
        Add to Calendar
      </ion-button>
    </div>

    <div class="content-bottom-spacer"></div>

  </ng-container>

</ion-content>
