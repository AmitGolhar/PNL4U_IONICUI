<ion-header translucent>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Promoter Dashboard</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding gradient-bg">
  <div class="dashboard-container">
    <!-- Greeting -->
    <div class="greeting">
      <h2>{{ getGreeting() }}, {{ promoterName }} ðŸ‘‹</h2>
      <p>Hereâ€™s your performance summary for this week.</p>
    </div>

    <!-- Stats Section -->
    <div class="stats-row">
      <div class="stat-card">
        <ion-icon name="calendar-outline"></ion-icon>
        <div class="label">Total Events</div>
        <div class="value">{{ stats.totalEvents }}</div>
      </div>

      <div class="stat-card">
        <ion-icon name="flash-outline"></ion-icon>
        <div class="label">Active Promotions</div>
        <div class="value">{{ stats.activePromotions }}</div>
      </div>

      <div class="stat-card">
        <ion-icon name="people-outline"></ion-icon>
        <div class="label">Total Bookings</div>
        <div class="value">{{ stats.totalBookings }}</div>
      </div>

      <div class="stat-card">
        <ion-icon name="cash-outline"></ion-icon>
        <div class="label">Earnings</div>
        <div class="value">â‚¹{{ stats.earnings | number }}</div>
      </div>

      <div class="stat-card">
        <ion-icon name="wallet-outline"></ion-icon>
        <div class="label">Pending Payout</div>
        <div class="value text-yellow">â‚¹{{ stats.payoutPending | number }}</div>
      </div>
    </div>

    <!-- Top Events -->
    <div class="section">
      <h3>ðŸ”¥ Top Performing Events</h3>
      <div class="top-events">
        <ion-card *ngFor="let e of topEvents" class="event-card">
          <img [src]="e.image" alt="{{ e.title }}" />
          <ion-card-header>
            <ion-card-title>{{ e.title }}</ion-card-title>
            <ion-card-subtitle>{{ e.date | date: 'mediumDate' }}</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <div class="row">
              <div><strong>ðŸŽŸ</strong> {{ e.conversions }} Conversions</div>
              <div><strong>ðŸ’°</strong> â‚¹{{ e.revenue | number }}</div>
            </div>
          </ion-card-content>
        </ion-card>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="section">
      <h3>ðŸ•“ Recent Activity</h3>
      <div *ngFor="let act of recentActivities" class="activity">
        <ion-icon [name]="act.type === 'booking' ? 'ticket-outline' : act.type === 'payout' ? 'cash-outline' : 'calendar-outline'"></ion-icon>
        <div>
          <div class="message">{{ act.message }}</div>
          <div class="time">{{ act.time }}</div>
        </div>
      </div>
    </div>
  </div>
</ion-content>
