<ion-header translucent>
  <ion-toolbar>
    <ion-title>Job Applications</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding gradient-bg">
  <div class="job-container">

    <!-- Tabs -->
    <ion-segment [(ngModel)]="activeTab" class="auth-tabs">
      <ion-segment-button value="apply">
        <ion-label>üìù Apply</ion-label>
      </ion-segment-button>
      <ion-segment-button value="myApplications">
        <ion-label>üìÇ My Applications</ion-label>
      </ion-segment-button>
    </ion-segment>

    <!-- Apply Form -->
    <form *ngIf="activeTab === 'apply'" (ngSubmit)="onSubmit()" class="job-card">
      <ion-item lines="none" class="input-item">
        <ion-input placeholder="Full Name" [(ngModel)]="application.fullName" name="fullName" required></ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-input type="email" placeholder="Email Address" [(ngModel)]="application.email" name="email" required></ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-input type="tel" placeholder="Phone Number" [(ngModel)]="application.phone" name="phone" required></ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-input placeholder="Position (e.g., DJ, Manager)" [(ngModel)]="application.position" name="position" required></ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-textarea placeholder="Experience Summary" [(ngModel)]="application.experience" name="experience"></ion-textarea>
      </ion-item>

      <ion-button expand="block" type="submit" class="btn-primary">Submit Application</ion-button>
    </form>

    <!-- My Applications -->
    <div *ngIf="activeTab === 'myApplications'" class="applications-list">
      <ion-card *ngFor="let app of applications" class="application-card">
        <ion-card-header>
          <ion-card-title>{{ app.position }}</ion-card-title>
          <ion-card-subtitle>{{ app.fullName }} ‚Ä¢ {{ app.email }}</ion-card-subtitle>
        </ion-card-header>

        <ion-card-content>
          <p><strong>Experience:</strong> {{ app.experience }}</p>
          <p><strong>Status:</strong>
            <span [ngClass]="app.status.toLowerCase()">{{ app.status }}</span>
          </p>
        </ion-card-content>
      </ion-card>
    </div>

  </div>
</ion-content>
